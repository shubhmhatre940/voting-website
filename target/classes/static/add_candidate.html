<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Add Candidate - Bharat e-Voting</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
    body{
        margin:0;
        font-family:'Poppins',sans-serif;
        background:#F4F6F8;
        display:flex;
    }
    /* Sidebar */
    .sidebar{
        width:230px;
        background:#0D2E5E;
        padding-top:30px;
        height:100vh;
        color:white;
    }
    .sidebar h3{
        text-align:center; margin-bottom:40px;
        font-weight:600; font-size:18px;
    }
    .sidebar a{
        display:block;
        padding:14px 28px;
        color:white;
        text-decoration:none;
        font-size:15px;
    }
    .sidebar a.active, .sidebar a:hover{
        background:#F98D2E;
        color:#fff;
    }

    /* Main Content */
    .main{
        flex:1;
        padding:40px 60px;
    }
    .main h2{
        margin:0 0 20px;
        color:#0D2E5E;
        font-size:24px;
        font-weight:600;
    }

    .form-box{
        background:#fff;
        padding:28px;
        width:420px;
        border-radius:10px;
        box-shadow:0 2px 12px rgba(0,0,0,0.08);
    }

    label{
        display:block;
        margin-top:14px;
        font-size:14px;
        font-weight:500;
        color:#0D2E5E;
    }
    input{
        width:100%;
        padding:12px;
        margin-top:6px;
        border-radius:6px;
        border:1px solid #ccc;
        font-size:14px;
    }

    button{
        width:100%;
        margin-top:26px;
        background:#F98D2E;
        border:none;
        padding:12px;
        color:white;
        border-radius:8px;
        font-weight:600;
        cursor:pointer;
        font-size:15px;
    }
    button:hover{ background:#e67a13; }
</style>

</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h3>Admin Panel</h3>
    <a href="admin.html" class="active">Candidates</a>
    <a href="results.html">Results</a>
</div>

<!-- Content -->
<div class="main">

    <h2>Manage Candidates</h2>

    <div class="form-box">
        <h3 style="margin-bottom:10px;">Add New Candidate</h3>

        <form id="add">
            <label>Full Name</label>
            <input id="name" placeholder="Enter candidate's full name" required>

            <label>Political Party</label>
            <input id="party" placeholder="e.g., National Party" required>

            <label>Manifesto</label>
            <input id="manifesto" placeholder="Enter manifesto summary" required>

            <button type="submit">Add Candidate</button>
        </form>
    </div>

</div>

<script>
document.getElementById('add').addEventListener('submit', async (e) => {
    e.preventDefault();
    const payload = {
        name: document.getElementById('name').value,
        party: document.getElementById('party').value,
        manifesto: document.getElementById('manifesto').value
    };
    const res = await fetch('/api/admin/addCandidate', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(payload)
    });
    const data = await res.json();
    if(res.ok){
        alert('✅ Candidate Added Successfully');
        window.location='/admin.html';
    }
    else{
        alert(data.error || '⚠ Failed to Add Candidate');
    }
});
</script>

</body>
</html>
